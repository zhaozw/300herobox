<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <script src="../js/mui.min.js"></script>
    <script src="../js/jquery.js"></script>
	<script src="../data/heros.js"></script>
    <link href="../css/mui.min.css" rel="stylesheet"/>
    <script type="text/javascript" charset="utf-8">
      	mui.init();
    </script>
</head>
<body>
	<ul class="mui-table-view mui-grid-view" id="herolist"></ul>
	<script>
		mui.plusReady(function(){
			for(var i = 0;i < heros.length;i++){
				$('#herolist').append(
				'<li class="mui-table-view-cell mui-media mui-col-xs-3" locate="' + heros[i].locate + '">' +
		       	'    <a class="mui-navigate-right" href="heros_details.html?hid=' + heros[i].hid + '">' +
		       	'        <img class="mui-media-object" src="../img/hface/' + heros[i].hid + '.jpg">' +
		       	'        <div class="mui-media-body">' + heros[i].hname + '</div>' +
		       	'    </a>' +
		       	'</li>');
			}
			mui('#herolist').on('tap', 'a', function() {
				var id = this.getAttribute('href');
				mui.openWindow({
					id: 'heros_details.html',
					url: this.href,
					waiting:{
      					autoShow:true,//自动显示等待框，默认为true
      					title:'正在加载...',//等待对话框上显示的提示内容
    				}
				});
			});
		});
		window.addEventListener('select',function(locate){
			if(locate.detail.locate){
				$('li').hide();
				$(locate.detail.locate).show();
			}else{
				$('li').show();
			}
		});
		
	</script>
</body>
</html>